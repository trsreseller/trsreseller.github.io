<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Product Dashboard - TRS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;background:#f2f2f2;padding:15px}
.box{background:#fff;padding:15px;border-radius:6px;max-width:500px;margin:auto}
input,textarea,button{width:100%;padding:10px;margin:8px 0}
button{background:#ff6a00;color:#fff;border:none}
</style>
</head>

<body>

<div class="box">
<h3>Add New Product</h3>

<input id="name" placeholder="Product Name">
<input id="category" placeholder="Category (Dress, Gadget...)">
<input id="price" type="number" placeholder="Reseller Price">

<textarea id="images" placeholder="Image URLs (one per line)"></textarea>
<input id="video" placeholder="YouTube Video URL (optional)">

<button onclick="addProduct()">Add Product</button>
<p id="msg"></p>
</div>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyDmpfADp5fHzKhifMmhKPMQAwjCSd_QQs0",
  authDomain: "trs-reseller.firebaseapp.com",
  projectId: "trs-reseller"
});

const db = firebase.firestore();

function addProduct(){
  const imgs = document.getElementById("images").value
    .split("\n")
    .filter(i=>i.trim()!=="");

  db.collection("products").add({
    name: name.value,
    category: category.value,
    price: Number(price.value),
    images: imgs,
    video: video.value,
    active: true,
    createdAt: firebase.firestore.FieldValue.serverTimestamp()
  }).then(()=>{
    msg.innerText="âœ… Product Added Successfully";
  }).catch(e=>{
    msg.innerText=e.message;
  });
}
</script>

</body>
</html>
