<!DOCTYPE html>
<html>
<head>
<title>Products | TRS Reseller</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{
  font-family:Arial;
  background:#f5f5f5;
  margin:0;
}
h2{text-align:center;margin:20px}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:15px;
  padding:15px;
}
.card{
  background:#fff;
  border-radius:8px;
  box-shadow:0 0 8px rgba(0,0,0,.1);
  padding:10px;
}
.card img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:6px;
}
.price{
  color:#ff7a00;
  font-weight:bold;
  font-size:18px;
}
</style>
</head>

<body>

<h2>All Products</h2>
<div class="products" id="products"></div>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyDmpfADp5fHzKhifMmhKPMQAwjCSd_QQs0",
  authDomain: "trs-reseller.firebaseapp.com",
  projectId: "trs-reseller"
});

const db = firebase.firestore();
const box = document.getElementById("products");

db.collection("products").orderBy("createdAt","desc").onSnapshot(snapshot=>{
  box.innerHTML="";
  snapshot.forEach(doc=>{
    const p = doc.data();
    box.innerHTML += `
      <div class="card">
        <img src="${p.image}">
        <h4>${p.name}</h4>
        <div class="price">à§³ ${p.price}</div>
      </div>
    `;
  });
});
</script>

</body>
</html>
