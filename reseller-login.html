<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Reseller Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;background:#f2f2f2;padding:15px}
.box{background:#fff;padding:15px;border-radius:6px}
input{width:100%;padding:10px;margin:6px 0}
button{padding:10px;background:#007bff;color:#fff;border:none;width:100%}
</style>
</head>

<body>

<div class="box">
<h3>Reseller Login</h3>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<script>
const firebaseConfig={
 apiKey:"AIzaSyDmpfADp5fHzKhifMmhKPMQAwjCSd_QQs0",
 authDomain:"trs-reseller.firebaseapp.com",
 projectId:"trs-reseller"
};
firebase.initializeApp(firebaseConfig);

const auth=firebase.auth();
const db=firebase.firestore();

function login(){
 auth.signInWithEmailAndPassword(email.value,password.value)
 .then(res=>{
   db.collection("resellers").doc(res.user.uid).get()
   .then(doc=>{
     if(doc.exists && doc.data().status=="Approved"){
       location.href="reseller-dashboard.html";
     }else{
       alert("Admin approval pending");
       auth.signOut();
     }
   });
 })
 .catch(err=>alert(err.message));
}
</script>

</body>
</html>
